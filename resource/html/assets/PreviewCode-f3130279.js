var J=Object.defineProperty,x=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var _=(e,o,t)=>o in e?J(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,f=(e,o)=>{for(var t in o||(o={}))k.call(o,t)&&_(e,t,o[t]);if(u)for(var t of u(o))w.call(o,t)&&_(e,t,o[t]);return e},m=(e,o)=>x(e,g(o));import{C as $,M}from"./index-d69a013b.js";import{aV as B,b as D,_ as F}from"./index.js";import{d as N,r as R,G as V,u as A,a8 as C,_ as O,$ as P,a0 as v,l as d,aa as b,E as y}from"./vue-5c68ae35.js";import"./antd-12f11a56.js";import"./useWindowSizeFn-997fa1d0.js";const S=N({name:"PreviewCode",components:{CodeEditor:$},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const o=R({visible:!1}),t=(s,E=`file.${e.fileFormat}`)=>{let p="data:text/csv;charset=utf-8,";p+=s;const h=encodeURI(p),r=document.createElement("a");r.setAttribute("href",h),r.setAttribute("download",E),r.click()},i=()=>{t(e.editorJson)},{clipboardRef:c,copiedRef:l}=B(),{createMessage:a}=D(),n=()=>{const s=e.editorJson;if(!s){a.warning("代码为空！");return}c.value=s,A(l)&&a.warning("复制成功！")};return m(f({},V(o)),{exportData:t,handleCopyJson:n,handleExportJson:i,MODE:M})}});const j={class:"v-json-box"},I={class:"copy-btn-box"};function T(e,o,t,i,c,l){const a=C("CodeEditor"),n=C("a-button");return O(),P("div",null,[v("div",j,[d(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),v("div",I,[d(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:b(()=>[y(" 复制数据 ")]),_:1},8,["onClick","data-clipboard-text"]),d(n,{onClick:e.handleExportJson,type:"primary"},{default:b(()=>[y("导出代码")]),_:1},8,["onClick"])])])}const L=F(S,[["render",T],["__scopeId","data-v-143586b7"]]);export{L as default};
